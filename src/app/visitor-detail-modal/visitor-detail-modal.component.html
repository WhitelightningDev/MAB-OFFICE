<!-- Header section for the modal or page -->
<ion-header>
  <ion-toolbar>
    <!-- Toolbar container for header elements -->
    <ion-buttons slot="start">
      <!-- Buttons aligned to the start (left) -->
      <ion-button (click)="dismiss()">Close</ion-button>
      <!-- Button to close the modal or page -->
    </ion-buttons>

    <!-- Title displaying visitor's name and surname -->
  </ion-toolbar>
</ion-header>

<!-- Main content area -->
<ion-content class="ion-padding">
  <!-- Content area with padding -->
  <ion-card>
    <!-- Card to contain visitor details -->
    <ion-card-header>
      <!-- Header section of the card -->
      <ion-card-title>Visitor Details</ion-card-title>
      <ion-title>{{ visitor.name }} {{ visitor.surname }}</ion-title>
      <!-- Title for the card -->
    </ion-card-header>
    <ion-card-content>
      <!-- Main content section of the card -->
      <div>
        <!-- Display various visitor details -->
        <strong>Contact:</strong> {{ visitor.contact }}<br />
        <!-- Visitor's contact information -->
        <strong>Email:</strong> {{ visitor.email }}<br />

        <strong>idn:</strong> {{ visitor.idn }}<br />
        <!-- Visitor's email address -->
        <strong>Purpose of Visit:</strong> {{ visitor.purpose }}<br />
        <!-- Purpose of the visit -->
        <strong>Date of Entry:</strong> {{ visitor.date }}<br />
        <!-- Date of entry -->
        <strong>Organization:</strong> {{ visitor.organization }}<br />
        <!-- Organization visitor is associated with -->
        <strong>POPIA Accepted:</strong>
        {{ visitor.acceptedPOPIA ? "Yes" : "No" }}<br />
        <!-- Indicates if POPIA is accepted -->

        <strong>Signature:</strong><br />
        <ion-thumbnail *ngIf="visitor.signatureImage">
          <!-- Display signature image if available -->
          <img
            [src]="visitor.signatureImage"
            alt="Signature"
            style="width: 100%; max-width: 200px"
          />
        </ion-thumbnail>
        <p *ngIf="!visitor.signatureImage">No signature available.</p>
        <!-- Message if no signature image is present -->

        <br />
        <strong>Selfie:</strong><br />
        <ion-thumbnail
          *ngIf="visitor.selfieImage"
          (click)="enlargeImage(visitor.selfieImage)"
        >
          <img
            [src]="visitor.selfieImage"
            alt="Selfie"
            style="width: 100%; max-width: 200px"
          />
        </ion-thumbnail>
        <p *ngIf="!visitor.selfieImage">No selfie available.</p>
        <!-- Message if no selfie image is present -->
      </div>
    </ion-card-content>
  </ion-card>

  <!-- Enlarged Image Display Section -->
  <div
    class="enlarged-image"
    *ngIf="enlargedImage"
    (click)="closeEnlargedImage()"
  >
    <img [src]="enlargedImage" alt="Enlarged Selfie" />
    <!-- Display enlarged image -->
    <ion-button expand="full" (click)="closeEnlargedImage()">Close</ion-button>
    <!-- Button to close enlarged image -->
  </div>

  <style>
    /* Styles for the enlarged image overlay */
    .enlarged-image {
      position: fixed; /* Fixed position to cover the entire screen */
      top: 0; /* Align to the top of the viewport */
      left: 0; /* Align to the left of the viewport */
      right: 0; /* Align to the right of the viewport */
      bottom: 0; /* Align to the bottom of the viewport */
      background-color: rgba(
        0,
        0,
        0,
        0.8
      ); /* Dark semi-transparent background */
      display: flex; /* Use flexbox for centering */
      justify-content: center; /* Center the content horizontally */
      align-items: center; /* Center the content vertically */
      z-index: 999; /* Ensure it is on top of other elements */
    }
    .enlarged-image img {
      max-width: 90%; /* Maximum width of the enlarged image */
      max-height: 90%; /* Maximum height of the enlarged image */
    }
  </style>
</ion-content>
